window.bp=window.bp||{},function(t,i){"undefined"!=typeof SZ_Nouveau&&(bp.Nouveau=bp.Nouveau||{},bp.Nouveau.Notifications={start:function(){this.setupGlobals(),this.addListeners()},setupGlobals:function(){bp.Nouveau.setStorage("sz-notifications","extras","DESC")},addListeners:function(){i('#sportszone [data-sz-list="notifications"]').on("sz_ajax_request",this.prepareDocument),i('#sportszone [data-sz-list="notifications"]').on("click","[data-sz-notifications-order]",bp.Nouveau,this.sortNotifications),i('#sportszone [data-sz-list="notifications"]').on("change","#notification-select",this.enableBulkSubmit),i('#sportszone [data-sz-list="notifications"]').on("click","#select-all-notifications",this.selectAll),i(window).on("unload",this.resetFilter)},prepareDocument:function(){"ASC"===bp.Nouveau.getStorage("sz-notifications").extras?(i('[data-sz-notifications-order="DESC"]').show(),i('[data-sz-notifications-order="ASC"]').hide()):(i('[data-sz-notifications-order="ASC"]').show(),i('[data-sz-notifications-order="DESC"]').hide()),i("#notification-bulk-manage").prop("disabled","disabled")},sortNotifications:function(t){var e=t.data.getStorage("sz-notifications"),o=e.scope||null,a=e.filter||null,n=e.extra||null,s="";t.preventDefault(),n=i(t.currentTarget).data("sz-notifications-order"),bp.Nouveau.setStorage("sz-notifications","extras",n),i('#sportszone [data-sz-search="notifications"] input[type=search]').length&&(s=i('#sportszone [data-sz-search="notifications"] input[type=search]').val()),bp.Nouveau.objectRequest({object:"notifications",scope:o,filter:a,search_terms:s,extras:n,page:1})},enableBulkSubmit:function(t){i("#notification-bulk-manage").prop("disabled",i(t.currentTarget).val().length<=0)},selectAll:function(t){i.each(i(".notification-check"),function(e,o){i(o).prop("checked",i(t.currentTarget).prop("checked"))})},resetFilter:function(){bp.Nouveau.setStorage("sz-notifications","filter",0)}},bp.Nouveau.Notifications.start())}(bp,jQuery);